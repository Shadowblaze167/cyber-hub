<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chrome Dino - Stealth Console</title>
    <style>
        :root { --neon: #00ff41; --urban: #ffcc00; --laser: #ff003c; --bg: #030303; }
        body, html { margin: 0; padding: 0; height: 100vh; overflow: hidden; font-family: 'Consolas', monospace; background: #000; color: var(--neon); }

        /* --- LAYER 1: DINO DECOY (Touching cactus triggers Laser Reset) --- */
        #decoy { position: fixed; inset: 0; z-index: 100; background: #fff; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 0.6s ease-in-out; }
        #game-box { width: 600px; height: 150px; border-bottom: 2px solid #555; position: relative; overflow: hidden; background: #fff; }
        #dino { width: 40px; height: 40px; background: #555; position: absolute; bottom: 0; left: 50px; transition: 0.2s; }
        .cactus { width: 15px; height: 30px; background: #555; position: absolute; bottom: 0; right: -20px; animation: move 1.5s infinite linear; }
        @keyframes move { from { right: -20px; } to { right: 620px; } }
        #laser-line { position: fixed; top: 0; left: -100%; width: 100%; height: 2px; background: var(--laser); box-shadow: 0 0 15px var(--laser); z-index: 1000; pointer-events: none; }

        /* --- LAYER 2: MATRIX TERMINAL --- */
        #matrix-layer { position: fixed; inset: 0; z-index: 200; background: #000; display: none; opacity: 0; transition: 1s; }
        #m-canvas { position: absolute; inset: 0; }
        .auth-card { position: relative; z-index: 210; height: 100vh; display: flex; align-items: center; justify-content: center; }
        .card { background: rgba(0,0,0,0.9); border: 1px solid var(--neon); padding: 40px; text-align: center; backdrop-filter: blur(5px); }
        input { background: transparent; border: none; border-bottom: 2px solid var(--neon); color: #fff; font-size: 1.8rem; text-align: center; outline: none; letter-spacing: 10px; width: 300px; margin-top: 20px; }

        /* --- LAYER 3: OMNI CONSOLE (20 Features) --- */
        #console { position: fixed; inset: 0; z-index: 300; display: none; background: var(--bg); grid-template-columns: 280px 1fr 280px; gap: 1px; }
        .p-box { background: #000; border: 1px solid #111; display: flex; flex-direction: column; overflow: hidden; }
        .p-hdr { padding: 10px; font-size: 10px; background: #080808; border-bottom: 1px solid #111; color: #555; }
        
        #node-db { flex-grow: 1; overflow-y: auto; padding: 5px; }
        .node { padding: 8px; border-bottom: 1px solid #080808; font-size: 11px; cursor: pointer; }
        .node:hover { background: #0a0a0a; color: var(--urban); }
        #logs { flex-grow: 1; padding: 15px; font-size: 12px; color: #8f8; overflow-y: auto; }
        .stat-item { padding: 10px 20px; font-size: 12px; border-bottom: 1px solid #111; }
        
        /* UI ANIMATION */
        .scanlines { position: fixed; inset: 0; pointer-events: none; background: linear-gradient(rgba(18,16,16,0) 50%, rgba(0,0,0,0.1) 50%); background-size: 100% 4px; z-index: 2000; opacity: 0.3; }
        .laser-sweep { animation: sweep 0.5s ease-out; }
        @keyframes sweep { 0% { left: -100%; } 100% { left: 100%; } }
    </style>
</head>
<body onkeydown="handleInput(event)">

    <div class="scanlines"></div>
    <div id="laser-line"></div>

    <div id="decoy">
        <h2 style="color:#555; margin-bottom: 5px;">Chrome Dino</h2>
        <div id="game-box">
            <div id="dino"></div>
            <div id="cactus" class="cactus"></div>
        </div>
        <p style="color:#999; font-size: 10px; margin-top: 15px;">Press SPACE to Jump | Type 'root' for Gate</p>
    </div>

    <div id="matrix-layer">
        <canvas id="m-canvas"></canvas>
        <div class="auth-card">
            <div class="card">
                <div style="font-size: 10px; letter-spacing: 3px;">ENCRYPTED_AUTH_REQUIRED</div>
                <input type="password" id="pass" placeholder="****" onkeypress="if(event.key==='Enter') login()">
            </div>
        </div>
    </div>

    <div id="console">
        <aside class="p-box">
            <div class="p-hdr">URBAN_VPN_NODES [20]</div>
            <div id="node-db"></div>
            <button onclick="connectVPN()" style="background:transparent; border:1px solid var(--urban); color:var(--urban); margin:10px; padding:8px; cursor:pointer;">> ACTIVATE_URBAN_P2P</button>
        </aside>

        <main class="p-box">
            <div class="p-hdr">ENCRYPTED_TERMINAL</div>
            <div id="logs"></div>
        </main>

        <aside class="p-box">
            <div class="p-hdr">IP_LOCATOR_TELEMETRY</div>
            <div class="stat-item">IP: <span id="ip-val" style="color:#fff">---</span></div>
            <div class="stat-item">CITY: <span id="loc-val" style="color:var(--urban)">SEARCHING...</span></div>
            <div class="stat-item">STATUS: <span id="vpn-stat" style="color:red">OFFLINE</span></div>
            <div class="stat-item">LATENCY: <span id="ping-val">--ms</span></div>
            <div class="p-hdr">GHOST_TOOLS</div>
            <button onclick="log('GH_SYNC: Repository link active.')" style="color:#555; background:none; border:none; text-align:left; padding:10px; cursor:pointer; font-size:11px;">> GITHUB_SYNC</button>
            <button onclick="location.reload()" style="color:var(--laser); background:none; border:none; text-align:left; padding:10px; cursor:pointer; font-size:11px;">> KILL_SWITCH</button>
        </aside>
    </div>

<script>
    let buffer = "";
    let isJumping = false;

    // --- 1. DINO RESET MECHANICS ---
    function handleInput(e) {
        if(e.code === "Space") {
            if(isJumping) return;
            isJumping = true;
            const d = document.getElementById('dino');
            d.style.bottom = "80px";
            setTimeout(() => { d.style.bottom = "0px"; isJumping = false; }, 300);
            checkCollision();
        }
        buffer += e.key.toLowerCase();
        if(buffer.includes("root")) {
            buffer = "";
            showMatrix();
        }
    }

    function checkCollision() {
        // Simple Cactus Reset (Choice: Laser Animation)
        const laser = document.getElementById('laser-line');
        laser.classList.add('laser-sweep');
        setTimeout(() => laser.classList.remove('laser-sweep'), 500);
    }

    // --- 2. TRANSITION ---
    function showMatrix() {
        document.getElementById('decoy').style.transform = "translateY(-100%)";
        const m = document.getElementById('matrix-layer');
        m.style.display = "block";
        setTimeout(() => { m.style.opacity = "1"; }, 50);
        startMatrix();
        document.getElementById('pass').focus();
    }

    // --- 3. CONSOLE & VPN ---
    function login() {
        if(btoa(document.getElementById('pass').value) === "YWRtaW5AOTk=") {
            document.getElementById('matrix-layer').style.display = "none";
            document.getElementById('console').style.display = "grid";
            initConsole();
        } else { document.getElementById('pass').value = ""; }
    }

    function initConsole() {
        // IP GEOLOCATION (Simulated with Real API fallback)
        fetch('https://ipapi.co/json/').then(r=>r.json()).then(d=>{
            document.getElementById('ip-val').innerText = d.ip;
            document.getElementById('loc-val').innerText = d.city + ", " + d.country;
        });

        const list = document.getElementById('node-db');
        const locs = ["US_VA", "UK_LDN", "DE_FRA", "JP_TOK", "FR_PAR"];
        for(let i=1; i<=20; i++) {
            let n = document.createElement('div');
            n.className = "node";
            n.innerHTML = `NODE_0x${i.toString(16)} <span style="float:right; opacity:0.3">${locs[i%5]}</span>`;
            n.onclick = () => {
                log(`HANDSHAKE: Establishing P2P tunnel to node ${i}...`);
                document.getElementById('ping-val').innerText = Math.floor(Math.random()*30+15)+"ms";
            };
            list.appendChild(n);
        }
        log("SYSTEM: Omni-X Core Loaded. All Ghost protocols active.");
    }

    function connectVPN() {
        log("URBAN_VPN: Injecting secure driver...", "urban");
        setTimeout(() => {
            document.getElementById('vpn-stat').innerText = "PROTECTED";
            document.getElementById('vpn-stat').style.color = "var(--urban)";
            log("SUCCESS: Urban P2P Tunnel Online.");
        }, 1200);
    }

    function log(m) {
        const l = document.getElementById('logs');
        l.innerHTML += `<div><span style="opacity:0.3">[${new Date().toLocaleTimeString()}]</span> ${m}</div>`;
        l.scrollTop = l.scrollHeight;
    }

    // --- 4. OPTIMIZED MATRIX (Low CPU) ---
    function startMatrix() {
        const c = document.getElementById('m-canvas');
        const ctx = c.getContext('2d');
        c.width = window.innerWidth; c.height = window.innerHeight;
        const drops = Array(Math.floor(c.width/20)).fill(1);
        function draw() {
            ctx.fillStyle = "rgba(0,0,0,0.08)"; ctx.fillRect(0,0,c.width,c.height);
            ctx.fillStyle = "#0F0"; ctx.font = "15px monospace";
            for(let i=0; i<drops.length; i++) {
                ctx.fillText(String.fromCharCode(0x30A0+Math.random()*96), i*20, drops[i]*20);
                if(drops[i]*20 > c.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
            requestAnimationFrame(draw);
        }
        draw();
    }
</script>
</body>
</html>
