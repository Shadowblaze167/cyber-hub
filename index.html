<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chrome Dino</title>
    <style>
        :root { --neon: #00ff41; --bg: #000; --panel: rgba(0, 5, 0, 0.9); --glitch: #ff003c; }
        body, html { margin: 0; padding: 0; height: 100vh; overflow: hidden; font-family: 'JetBrains Mono', monospace; background: #000; }

        /* --- STAGE 1: THE DECOY --- */
        #decoy-layer { position: fixed; inset: 0; z-index: 100; background: #fff; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: all 0.6s cubic-bezier(0.9, 0, 0.1, 1); }
        #canvas-wrap { position: relative; width: 600px; height: 160px; border-bottom: 2px solid #535353; overflow: hidden; }
        #dino { width: 40px; height: 44px; background: #535353; position: absolute; bottom: 0; left: 50px; }
        .cactus { width: 18px; height: 38px; background: #535353; position: absolute; bottom: 0; }
        #score-board { font-size: 24px; color: #535353; margin-bottom: 10px; }

        /* --- STAGE 2: THE WARP ENTRANCE --- */
        #warp-layer { position: fixed; inset: 0; z-index: 150; background: #000; display: none; overflow: hidden; }
        .star { position: absolute; background: var(--neon); width: 2px; height: 2px; border-radius: 50%; }

        /* --- STAGE 3: THE LOGIN GATE --- */
        #login-layer { position: fixed; inset: 0; z-index: 200; display: none; background: #000; opacity: 0; transition: 1s; }
        .gate-content { height: 100vh; display: flex; align-items: center; justify-content: center; position: relative; z-index: 10; }
        .auth-card { border: 1px solid var(--neon); padding: 50px; background: #000; box-shadow: 0 0 40px rgba(0, 255, 65, 0.1); animation: flicker 2s infinite; }
        @keyframes flicker { 0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 1; } 20%, 24%, 55% { opacity: 0.5; } }
        input { background: transparent; border: none; border-bottom: 2px solid var(--neon); color: #fff; font-size: 1.8rem; text-align: center; outline: none; letter-spacing: 8px; width: 300px; margin-top: 20px; }

        /* --- STAGE 4: THE PHANTOM CONSOLE --- */
        #console { position: fixed; inset: 0; z-index: 300; display: none; grid-template-columns: 300px 1fr 300px; gap: 2px; background: #000; }
        #bg-matrix { position: absolute; inset: 0; z-index: -1; opacity: 0.15; }
        .panel { background: var(--panel); border: 1px solid rgba(0,255,65,0.1); display: flex; flex-direction: column; backdrop-filter: blur(10px); }
        .p-hdr { padding: 10px; font-size: 10px; background: rgba(0,255,65,0.05); color: var(--neon); border-bottom: 1px solid rgba(0,255,65,0.1); text-transform: uppercase; }
        #term { flex-grow: 1; padding: 20px; color: var(--neon); font-size: 12px; overflow-y: auto; line-height: 1.5; }
        .tool-btn { background: none; border: 1px solid var(--neon); color: var(--neon); padding: 10px; margin: 5px 20px; cursor: pointer; font-family: inherit; transition: 0.3s; }
        .tool-btn:hover { background: var(--neon); color: #000; box-shadow: 0 0 15px var(--neon); }

        /* TRANSITION FX */
        .shatter-left { transform: translateX(-100%) skewX(-10deg); filter: blur(10px); }
        .shatter-right { transform: translateX(100%) skewX(10deg); filter: blur(10px); }
    </style>
</head>
<body onkeydown="keyHandler(event)">

    <div id="decoy-layer">
        <div id="score-board">00000</div>
        <div id="canvas-wrap">
            <div id="dino"></div>
        </div>
        <p style="color: #bbb; font-size: 11px; margin-top: 20px;">SYSTEMS_STABLE // PRESS SPACE</p>
    </div>

    <div id="warp-layer"></div>

    <div id="login-layer">
        <div class="gate-content">
            <div class="auth-card">
                <div style="color:var(--neon); font-size: 10px; letter-spacing: 5px;">KEY_CHALLENGE_REQUIRED</div>
                <input type="password" id="passkey" placeholder="••••" onkeypress="if(event.key==='Enter') tryAccess()">
            </div>
        </div>
    </div>

    <div id="console">
        <canvas id="bg-matrix"></canvas>
        <aside class="panel">
            <div class="p-hdr">Utility_Core</div>
            <button class="tool-btn" onclick="task('DECRYPT')">DECRYPT_STREAM</button>
            <button class="tool-btn" onclick="task('SPOOF')">SPOOF_MAC_ID</button>
            <div style="padding: 20px; font-size: 11px; color: #666;">
                IP: <span id="val-ip" style="color:#fff">---</span><br>
                LOC: <span id="val-loc" style="color:var(--neon)">Searching...</span>
            </div>
        </aside>
        <main class="panel">
            <div class="p-hdr">Terminal_Output</div>
            <div id="term"></div>
        </main>
        <aside class="panel">
            <div class="p-hdr">Nodes_Online</div>
            <div id="nodes" style="padding:10px; font-size:10px; opacity:0.6; line-height:2;"></div>
            <button class="tool-btn" style="border-color:var(--glitch); color:var(--glitch); margin-top:auto; margin-bottom:20px;" onclick="location.reload()">SIG_TERMINATE</button>
        </aside>
    </div>

<script>
    let buffer = "";
    let score = 0;
    let dinoY = 0;
    let dy = 0;
    let active = true;

    // --- 1. DINO GAME ---
    function keyHandler(e) {
        if(e.code === "Space" && dinoY === 0) dy = 13;
        
        buffer += e.key.toLowerCase();
        if(buffer.includes("root")) {
            buffer = "";
            startWarpEntrance();
        }
    }

    function gameLoop() {
        if(!active) return;
        dinoY += dy;
        dy -= 0.7;
        if(dinoY <= 0) { dinoY = 0; dy = 0; }
        document.getElementById('dino').style.bottom = dinoY + "px";
        score++;
        document.getElementById('score-board').innerText = score.toString().padStart(5, '0');
        requestAnimationFrame(gameLoop);
    }
    gameLoop();

    function spawnCactus() {
        if(!active) return;
        const c = document.createElement('div');
        c.className = 'cactus';
        c.style.right = '-20px';
        document.getElementById('canvas-wrap').appendChild(c);
        let pos = -20;
        const move = setInterval(() => {
            if(!active) { clearInterval(move); c.remove(); return; }
            pos += 6;
            c.style.right = pos + "px";
            if(pos > 515 && pos < 545 && dinoY < 38) {
                alert("STABLE_SYNC_LOST. Score: " + score);
                location.reload();
            }
            if(pos > 650) { clearInterval(move); c.remove(); }
        }, 16);
        setTimeout(spawnCactus, 2500 + Math.random() * 3000); // Rare Cacti
    }
    spawnCactus();

    // --- 2. COOL ENTRANCE (WARP) ---
    function startWarpEntrance() {
        active = false;
        const decoy = document.getElementById('decoy-layer');
        decoy.classList.add('shatter-left');
        
        const warp = document.getElementById('warp-layer');
        warp.style.display = 'block';

        // Create Warp Stars
        for(let i=0; i<60; i++) {
            let star = document.createElement('div');
            star.className = 'star';
            star.style.left = '50%';
            star.style.top = '50%';
            warp.appendChild(star);
            
            let angle = Math.random() * Math.PI * 2;
            let speed = Math.random() * 5 + 2;
            let vx = Math.cos(angle) * speed;
            let vy = Math.sin(angle) * speed;
            
            let pos = 0;
            const anim = setInterval(() => {
                pos += 1;
                star.style.transform = `translate(${vx * pos}px, ${vy * pos}px) scale(${pos/10})`;
                if(pos > 100) { star.remove(); clearInterval(anim); }
            }, 10);
        }

        setTimeout(() => {
            warp.style.display = 'none';
            document.getElementById('login-layer').style.display = 'block';
            setTimeout(() => { document.getElementById('login-layer').style.opacity = '1'; }, 50);
            document.getElementById('passkey').focus();
        }, 1200);
    }

    // --- 3. CONSOLE ---
    function tryAccess() {
        if(btoa(document.getElementById('passkey').value) === "YWRtaW5AOTk=") {
            document.getElementById('login-layer').style.display = 'none';
            document.getElementById('console').style.display = 'grid';
            startMatrix();
            boot();
        } else {
            document.getElementById('passkey').value = "";
        }
    }

    function boot() {
        fetch('https://ipapi.co/json/').then(r=>r.json()).then(d=>{
            document.getElementById('val-ip').innerText = d.ip;
            document.getElementById('val-loc').innerText = d.city.toUpperCase();
        });
        const n = document.getElementById('nodes');
        for(let i=0; i<10; i++) n.innerHTML += `<div>> NODE_CONNECTED: 192.168.${i}.254</div>`;
        log("GHOST_SHELL_V4: ONLINE");
    }

    function task(t) {
        log(`INITIATING_${t}...`);
        setTimeout(() => log(`STREAM_HANDSHAKE: [OK]`), 800);
        setTimeout(() => log(`${t}_SEQUENCE_COMPLETE.`), 2000);
    }

    function log(m) {
        const t = document.getElementById('term');
        t.innerHTML += `<div><span style="opacity:0.3">[${new Date().toLocaleTimeString()}]</span> ${m}</div>`;
        t.scrollTop = t.scrollHeight;
    }

    function startMatrix() {
        const c = document.getElementById('bg-matrix');
        const ctx = c.getContext('2d');
        c.width = window.innerWidth; c.height = window.innerHeight;
        const col = Array(Math.floor(c.width/20)).fill(1);
        setInterval(() => {
            ctx.fillStyle = "rgba(0,0,0,0.05)"; ctx.fillRect(0,0,c.width,c.height);
            ctx.fillStyle = "#0F0"; ctx.font = "14px monospace";
            col.forEach((y, i) => {
                ctx.fillText(String.fromCharCode(0x30A0+Math.random()*96), i*20, y*20);
                if(y*20 > c.height && Math.random() > 0.98) col[i] = 0;
                col[i]++;
            });
        }, 50);
    }
</script>
</body>
</html>
