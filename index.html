<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chrome Dino</title>
    <style>
        :root { --neon: #00ff41; --bg: #050505; --panel: rgba(0, 20, 0, 0.85); }
        body, html { margin: 0; padding: 0; height: 100vh; overflow: hidden; font-family: 'Courier New', monospace; background: #f7f7f7; }

        /* --- LAYER 1: THE GAME --- */
        #game-layer { position: fixed; inset: 0; z-index: 100; background: #fff; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 0.8s cubic-bezier(0.8, 0, 0.2, 1); }
        #canvas-wrap { position: relative; width: 600px; height: 150px; border-bottom: 2px solid #535353; overflow: hidden; }
        #dino { width: 40px; height: 40px; background: #535353; position: absolute; bottom: 0; left: 50px; }
        .cactus { width: 15px; height: 35px; background: #535353; position: absolute; bottom: 0; }
        #score-box { font-family: sans-serif; color: #535353; font-size: 20px; margin-bottom: 20px; }

        /* --- LAYER 2: LOGIN --- */
        #login-layer { position: fixed; inset: 0; z-index: 200; background: #000; display: none; opacity: 0; transition: 1s; }
        .gate { height: 100vh; display: flex; align-items: center; justify-content: center; position: relative; z-index: 10; }
        .auth-card { border: 1px solid var(--neon); padding: 50px; background: rgba(0,0,0,0.9); text-align: center; }
        input { background: transparent; border: none; border-bottom: 2px solid var(--neon); color: #fff; font-size: 2rem; text-align: center; outline: none; letter-spacing: 10px; width: 300px; }

        /* --- LAYER 3: CONSOLE --- */
        #console { position: fixed; inset: 0; z-index: 300; display: none; grid-template-columns: 300px 1fr 300px; gap: 2px; }
        .bg-matrix { position: absolute; inset: 0; z-index: -1; opacity: 0.15; }
        .p-box { background: var(--panel); border: 1px solid rgba(0,255,65,0.1); display: flex; flex-direction: column; backdrop-filter: blur(10px); }
        .p-hdr { padding: 10px; font-size: 11px; background: rgba(0,255,65,0.1); color: var(--neon); letter-spacing: 2px; }
        
        #term { flex-grow: 1; padding: 20px; color: var(--neon); font-size: 13px; overflow-y: auto; }
        .tool-btn { background: none; border: 1px solid var(--neon); color: var(--neon); padding: 10px; margin: 10px; cursor: pointer; font-family: inherit; font-size: 12px; }
        .tool-btn:hover { background: var(--neon); color: #000; }

        /* LASER ANIMATION */
        #laser { position: fixed; top: 0; left: -10px; width: 5px; height: 100%; background: #ff003c; box-shadow: 0 0 20px #ff003c; z-index: 1000; display: none; }
        @keyframes slice { from { left: -10px; } to { left: 100%; } }
    </style>
</head>
<body onkeydown="handleInput(event)">

    <div id="laser"></div>

    <div id="game-layer">
        <div id="score-box">00000</div>
        <div id="canvas-wrap">
            <div id="dino"></div>
        </div>
        <p style="color: #ccc; font-size: 12px; margin-top: 20px;">PRESS SPACE TO JUMP</p>
    </div>

    <div id="login-layer">
        <canvas id="gate-matrix" class="bg-matrix"></canvas>
        <div class="gate">
            <div class="auth-card">
                <div style="color:var(--neon); font-size: 10px; letter-spacing: 5px;">SECURE_INPUT_REQUIRED</div>
                <input type="password" id="pass" placeholder="••••" onkeypress="if(event.key==='Enter') auth()">
            </div>
        </div>
    </div>

    <div id="console">
        <canvas id="main-matrix" class="bg-matrix"></canvas>
        
        <aside class="p-box">
            <div class="p-hdr">SYSTEM_TOOLS</div>
            <button class="tool-btn" onclick="runSim('DECRYPT')">DECRYPT_DATA</button>
            <button class="tool-btn" onclick="runSim('SNIFF')">PACKET_SNIFFER</button>
            <button class="tool-btn" onclick="runSim('BRUTE')">BRUTE_FORCE_V2</button>
            <div style="padding: 15px; font-size: 12px; border-top: 1px solid #111;">
                IP: <span id="ip-val" style="color:#fff">---</span><br>
                GEO: <span id="loc-val" style="color:#888">...</span>
            </div>
        </aside>

        <main class="p-box">
            <div class="p-hdr">LIVE_TERMINAL</div>
            <div id="term"></div>
        </main>

        <aside class="p-box">
            <div class="p-hdr">REMOTE_NODES</div>
            <div id="nodes" style="flex-grow:1; overflow-y:auto; padding:10px; font-size:11px;"></div>
            <button class="tool-btn" style="border-color:red; color:red;" onclick="location.reload()">TERMINATE_SESSION</button>
        </aside>
    </div>

<script>
    let buffer = "";
    let score = 0;
    let dinoY = 0;
    let velocity = 0;
    let gravity = 0.6;
    let isGameOver = false;

    // --- 1. REAL DINO PHYSICS ---
    function handleInput(e) {
        if(e.code === "Space" && dinoY === 0) {
            velocity = 12;
        }
        
        // Invisible Secret Word: root
        buffer += e.key.toLowerCase();
        if(buffer.includes("root")) {
            buffer = "";
            executeLaser();
        }
    }

    function gameLoop() {
        if(isGameOver) return;
        
        // Gravity logic
        dinoY += velocity;
        velocity -= gravity;
        if(dinoY <= 0) {
            dinoY = 0;
            velocity = 0;
        }
        document.getElementById('dino').style.bottom = dinoY + "px";
        
        // Score
        score++;
        document.getElementById('score-box').innerText = score.toString().padStart(5, '0');
        
        requestAnimationFrame(gameLoop);
    }
    gameLoop();

    // Spawn Cacti
    function spawnCactus() {
        if(isGameOver) return;
        const cactus = document.createElement('div');
        cactus.className = 'cactus';
        cactus.style.right = '-30px';
        document.getElementById('canvas-wrap').appendChild(cactus);
        
        let pos = -30;
        const moveInt = setInterval(() => {
            pos += 5;
            cactus.style.right = pos + "px";
            
            // Collision detection
            if(pos > 510 && pos < 540 && dinoY < 35) {
                isGameOver = true;
                alert("GAME OVER. Score: " + score);
                location.reload();
            }
            if(pos > 650) {
                clearInterval(moveInt);
                cactus.remove();
            }
        }, 20);
        setTimeout(spawnCactus, Math.random() * 2000 + 1000);
    }
    spawnCactus();

    // --- 2. TRANSITION ---
    function executeLaser() {
        isGameOver = true;
        const laser = document.getElementById('laser');
        laser.style.display = 'block';
        laser.style.animation = 'slice 0.6s linear forwards';
        
        setTimeout(() => {
            document.getElementById('game-layer').style.display = 'none';
            document.getElementById('login-layer').style.display = 'block';
            document.getElementById('login-layer').style.opacity = '1';
            startMatrix('gate-matrix');
            document.getElementById('pass').focus();
        }, 500);
    }

    // --- 3. CONSOLE ---
    function auth() {
        if(btoa(document.getElementById('pass').value) === "YWRtaW5AOTk=") {
            document.getElementById('login-layer').style.display = 'none';
            document.getElementById('console').style.display = 'grid';
            startMatrix('main-matrix');
            initConsole();
        } else {
            document.getElementById('pass').value = "";
        }
    }

    function initConsole() {
        fetch('https://ipapi.co/json/').then(r=>r.json()).then(d=>{
            document.getElementById('ip-val').innerText = d.ip;
            document.getElementById('loc-val').innerText = d.city + ", " + d.country;
        });

        const nodes = document.getElementById('nodes');
        for(let i=0; i<15; i++) {
            nodes.innerHTML += `<div style="padding:5px; border-bottom:1px solid #111;">> NODE_ADDR: ${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.0.1</div>`;
        }
        log("GHOST_OS: KERNEL_LOADED");
    }

    function runSim(type) {
        log(`INITIATING_${type}...`);
        setTimeout(() => log(`STREAMING_${type}_PACKETS...`), 1000);
        setTimeout(() => log(`STATUS: [COMPLETE]`), 3000);
    }

    function log(m) {
        const t = document.getElementById('term');
        t.innerHTML += `<div>[${new Date().toLocaleTimeString()}] ${m}</div>`;
        t.scrollTop = t.scrollHeight;
    }

    // --- 4. MATRIX BACKGROUND ---
    function startMatrix(id) {
        const c = document.getElementById(id);
        const ctx = c.getContext('2d');
        c.width = window.innerWidth; c.height = window.innerHeight;
        const drops = Array(Math.floor(c.width/20)).fill(1);
        function draw() {
            ctx.fillStyle = "rgba(0,0,0,0.05)"; ctx.fillRect(0,0,c.width,c.height);
            ctx.fillStyle = "#0F0"; ctx.font = "15px monospace";
            for(let i=0; i<drops.length; i++) {
                ctx.fillText(String.fromCharCode(0x30A0+Math.random()*96), i*20, drops[i]*20);
                if(drops[i]*20 > c.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
        }
        setInterval(draw, 50);
    }
</script>
</body>
</html>
